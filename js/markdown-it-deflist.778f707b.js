var q=function(I){var A=I.utils.isSpace;function b(r,p){var i,u,o=r.bMarks[p]+r.tShift[p],f=r.eMarks[p];return o>=f||(u=r.src.charCodeAt(o++),u!==126&&u!==58)||(i=r.skipSpaces(o),o===i)||i>=f?-1:o}function D(r,p){var i,u,o=r.level+2;for(i=p+2,u=r.tokens.length-2;i<u;i++)r.tokens[i].level===o&&r.tokens[i].type==="paragraph_open"&&(r.tokens[i+2].hidden=!0,r.tokens[i].hidden=!0,i+=2)}function w(r,p,i,u){var o,f,n,e,g,C,S,y,l,k,v,x,T,_,E,M,h,c,m,d;if(u)return r.ddIndent<0?!1:b(r,p)>=0;if(l=p+1,l>=i||r.isEmpty(l)&&(l++,l>=i)||r.sCount[l]<r.blkIndent||(f=b(r,l),f<0))return!1;S=r.tokens.length,m=!0,d=r.push("dl_open","dl",1),d.map=C=[p,0],e=p,n=l;r:for(;;){for(c=!1,d=r.push("dt_open","dt",1),d.map=[e,e],d=r.push("inline","",0),d.map=[e,e],d.content=r.getLines(e,e+1,r.blkIndent,!1).trim(),d.children=[],d=r.push("dt_close","dt",-1);;){for(d=r.push("dd_open","dd",1),d.map=g=[l,0],h=f,y=r.eMarks[n],k=r.sCount[n]+f-(r.bMarks[n]+r.tShift[n]);h<y&&(o=r.src.charCodeAt(h),A(o));){o===9?k+=4-k%4:k++;h++}if(f=h,M=r.tight,v=r.ddIndent,x=r.blkIndent,E=r.tShift[n],_=r.sCount[n],T=r.parentType,r.blkIndent=r.ddIndent=r.sCount[n]+2,r.tShift[n]=f-r.bMarks[n],r.sCount[n]=k,r.tight=!0,r.parentType="deflist",r.md.block.tokenize(r,n,i,!0),(!r.tight||c)&&(m=!1),c=r.line-n>1&&r.isEmpty(r.line-1),r.tShift[n]=E,r.sCount[n]=_,r.tight=M,r.parentType=T,r.blkIndent=x,r.ddIndent=v,d=r.push("dd_close","dd",-1),g[1]=l=r.line,l>=i||r.sCount[l]<r.blkIndent)break r;if(f=b(r,l),f<0)break;n=l}if(l>=i||(e=l,r.isEmpty(e))||r.sCount[e]<r.blkIndent||(n=e+1,n>=i)||(r.isEmpty(n)&&n++,n>=i)||r.sCount[n]<r.blkIndent||(f=b(r,n),f<0))break}return d=r.push("dl_close","dl",-1),C[1]=l,r.line=l,m&&D(r,S),!0}I.block.ruler.before("paragraph","deflist",w,{alt:["paragraph","reference","blockquote"]})};export{q as m};
